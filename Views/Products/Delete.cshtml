@model StoreApp9My.Models.Product  

@{  
    ViewData["Title"] = "Delete";  
}  

<h1>Delete</h1>  

<h3>Are you sure you want to delete this?</h3>  
<div>  
    <h4>Product <i class="fa-solid fa-delete-left"></i></h4>
    <hr />  
    <dl class="row">  
        <dt class="col-sm-2">  
            @Html.DisplayNameFor(model => model.Name)  
        </dt>  
        <dd class="col-sm-10">  
            @Html.DisplayFor(model => model.Name)  
        </dd>  
        <dt class="col-sm-2">  
            @Html.DisplayNameFor(model => model.Description)  
        </dt>  
        <dd class="col-sm-10">  
            @Html.DisplayFor(model => model.Description)  
        </dd>  
        <dt class="col-sm-2">  
            @Html.DisplayNameFor(model => model.Price)  
        </dt>  
        <dd class="col-sm-10">  
            @Html.DisplayFor(model => model.Price)  
        </dd>  
        <dt class="col-sm-2">  
            @Html.DisplayNameFor(model => model.Stock)  
        </dt>  
        <dd class="col-sm-10">  
            @Html.DisplayFor(model => model.Stock)  
        </dd>  
        <dt class="col-sm-2">  
            Product Picture        </dt>  
        <dd class="col-sm-10">
            <img id="productImage" alt="Product Image" class="img-thumbnail" style="max-height:200px;max-width:200px;" />
        </dd>
        <dt class="col-sm-2">  
            Created At  
        </dt>  
        <dd class="col-sm-10">  
            @Html.DisplayFor(model => model.CreatedAt)  
        </dd>  
        <dt class="col-sm-2">  
            Owner  
        </dt>  
        <dd class="col-sm-10">  
            @if (Model.People != null)  
            {  
                @Html.DisplayFor(model => model.People.Phone)  
            }  
            else  
            {  
                <span>N/A</span>  
            }  
        </dd>  
    </dl>  

    <form asp-action="Delete">  
        <input type="hidden" asp-for="Id" />  
        <input type="submit" value="Delete" class="btn btn-danger" /> |  
        <a asp-action="Index">Back to List</a>  
    </form>  
</div>
@section Scripts {
    <script>
        window.addEventListener('DOMContentLoaded', function () {
            var imageUrl = '@Model.ImageUrl';
            var imageElement = document.getElementById('productImage');

            if (imageUrl && imageUrl.trim() !== '') {
                imageElement.src = imageUrl;
            } else {
                imageElement.alt = 'No image available';
                imageElement.style.display = 'none';
            }
        });
    </script>
}